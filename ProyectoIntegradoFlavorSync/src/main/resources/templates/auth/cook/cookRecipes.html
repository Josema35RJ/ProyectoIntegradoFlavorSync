<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FlavorSync - Mis Recetas</title>
<!-- CSS de Bootstrap 5 -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<!-- Font Awesome para iconos -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
	rel="stylesheet">
<!-- CSS personalizado (si tienes alguno adicional) -->
<link rel="stylesheet" href="/css/cookRecipes.css">
</head>
<body>
	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container-fluid">
			<a class="navbar-brand" href="#"><i class="fas fa-utensils"></i>
				FlavorSync</a>
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
					<li class="nav-item"><a href="/auth/cook/formRecipe"
						class="btn btn-success me-3"><i class="fas fa-plus"></i> Crear
							Receta</a></li>
					<li class="nav-item"><a class="nav-link"
						href="/auth/cook/cookPerfil"><i class="fas fa-user"></i> Mi
							Perfil</a></li>
					<li class="nav-item"><a class="nav-link"
						href="/auth/cook/logout"><i class="fas fa-sign-out-alt"></i>
							Cerrar Sesión</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<!-- Contenido Principal -->
	<main class="container my-5">
		<!-- Mensaje de éxito -->
		<div th:if="${success}" class="alert alert-success" role="alert">
			<span th:text="${success}"></span>
			<!-- Muestra el mensaje flash de éxito -->
		</div>

		<!-- Mensaje de error -->
		<div th:if="${error}" class="alert alert-danger" role="alert">
			<span th:text="${error}"></span>
			<!-- Muestra el mensaje flash de error -->
		</div>

		<!-- Título y datos del cocinero -->
		<div class="row mb-4">
			<div class="col text-center">
				<h1>Mis Recetas</h1>
				<!-- Mostrar nombre del cocinero e imagen de perfil -->
				<h3>
					Bienvenido, <span th:text="${cook}"></span>!
				</h3>
				<img th:src="${base64Image}"
					style="width: 150px; height: 150px; border-radius: 50%; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); object-fit: cover;"
					alt="Imagen de perfil">
			</div>
		</div>

		<!-- Tabla de Recetas -->
<div class="row">
    <div class="col">
        <table class="table table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Nombre de la Receta</th>
                    <th scope="col">Nivel</th>
                    <th scope="col">Comensales</th>
                    <th scope="col">Tiempo de Preparación (min)</th>
                    <th scope="col">Categoría</th>
                    <th scope="col">Calificación Promedio</th>
                    <th scope="col">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <!-- Iterar sobre las recetas -->
                <tr th:each="recipe, stat : ${recipes}">
                    <th scope="row" th:text="${stat.count}">1</th>
                    <!-- Índice de la receta -->
                    <td th:text="${recipe.name}">Nombre de la Receta</td>
                    <td th:text="${recipe.level}">Nivel</td>
                    <td th:text="${recipe.diners}">Comensales</td>
                    <td th:text="${recipe.preparationTime}">Tiempo de Preparación</td>
                    <td th:text="${recipe.category}">Categoría</td>
                    <td th:text="${recipe.averageRating}">Calificación Promedio</td>
                    <td>
                        <a th:href="@{'/auth/cook/viewRecipe/' + ${recipe.id}}" class="btn btn-info btn-sm me-1">
                            <i class="fas fa-eye"></i> Ver
                        </a>
                        <a th:href="@{'/auth/cook/updateRecipe/' + ${recipe.id}}" class="btn btn-warning btn-sm me-1">
                            <i class="fas fa-edit"></i> Editar
                        </a>
                    </td>
                </tr>
                <!-- Mostrar un mensaje si no hay recetas -->
                <tr th:if="${recipes.size() == 0}">
                    <td
	</main>

	<!-- Footer -->
	<footer class="footer mt-auto py-3 bg-dark text-light">
		<div class="container text-center">
			<span>© 2024 FlavorSync - Todos los derechos reservados</span>
		</div>
	</footer>

	<!-- Scripts de Bootstrap -->
	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
